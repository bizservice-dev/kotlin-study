# kotlin-study
목차
- [1. 프로그램을 더 안전하게 만들기](#1-----------------)
    * [1.1. 프로그래밍의 함정](#11----------)
        + [1.1.1. 안전하게 부수효과 처리하기](#111---------------)
        + [1.1.2. 참조 투명성으로 프로그램을 더 안전하게 만들기](#112--------------------------)
    * [1.2. 안전한 프로그래밍의 이점](#12--------------)
        + [1.2.1. 프로그램을 추론하는 데 치환 모델 사용하기](#121------------------------)
        + [1.2.3. 끝까지 추상화하기](#123----------)

# 1. 프로그램을 더 안전하게 만들기
> - 프로그래머에게 가장 필요한 자질은 자기 자신의 한계를 깨닫는 것이다.
> - 불변성, 참조 투명성, 치환 모델 등의 기법을 사용하여 **버그가 없음이 명확히 보이는 단순한 프로그램**을 작성하자.

## 1.1. 프로그래밍의 함정

- 상태 변화나 루프 같은 위험한 기능을 사용하지 말라.
    - 가변 참조나 루프가 필요한 경우가 생긴다면 그들을 추상화하라.
- 제어 구조를 피하라.
- 효과를 프로그램의 일부 영역 안에서만 일어나도록 제한하라.
    - 효과: 외부 세계(I/O, 컴포넌트 범위 밖의 원소를 변경하는 행위 등)와의 상호 작용
- 예외를 던지지 말라.

### 1.1.1. 안전하게 부수효과 처리하기

**부수효과(side effect)란?**
값을 반환하는 메서드나 함수가 외부 상태를 변경하는 경우

**안전한 프로그램을 만드는 방법**
- 부수 효과가 발생하지 않도록 하기
- 인자를 받아서 값을 반환하는 여러 함수를 합성해서 만들기

### 1.1.2. 참조 투명성으로 프로그램을 더 안전하게 만들기

**참조 투명성이란?**
외부 세계의 상태를 변경하지도 않고 외부 상태에 의존하지도 않는 코드
프로그램을 충분히 안전하고 결정적으로 만들려면 외부 세계로부터 영향을 받지 않도록 해야 함
→ 프로그램의 출력은 오직 그 인자에 의해서만 영향을 받아야 함

**참조 투명한 코드의 특징**
- 자기 완결적임
    - 어떤 문맥에서도 해당 코드를 사용 가능함
- 결정적임
    - 같은 인자에 대해 같은 결과를 보장함
- 예외를 던지지 않음
- 예기치 않게 다른 코드가실패하는 상황을 만들지 않음
    - 인자를 변경하거나 다른 외부 데이터를 변경하지 않음
- 외부 장치에 의존하지 않음

## 1.2. 안전한 프로그래밍의 이점

### 1.2.1. 프로그램을 추론하는 데 치환 모델 사용하기
참조 투명한 함수 호출이나 식은 항상 그 결괏값으로 치환할 수 있다.
→ 결괏값으로 치환해 프로그램을 계산하는 **치환 모델**을 함수에 적용해 프로그램의 결과를 추론할 수 있음

### 1.2.3. 끝까지 추상화하기
부수 효과가 없는 순수 함수를 합성하면 테스트하기 쉬운 안전한 프로그램을 작성할 수 있다.

**순수 함수란?**
- 주어진 입력 값에 대해 항상 동일한 출력 값을 반환하며, 부수 효과가 없는 함수
- fun 키워드를 사용하거나 **함수 값**으로 정의할 수 있음

**함수 값이란?**
- 함수를 변수에 할당하거나 다른 함수에 인자로 전달하거나 함수로부터 반환하는 데 사용되는 **값**
- 일급 함수의 하위 개념이라고 할 수 있음
    - 일급 함수: 함수를 값으로 다룰 수 있는 언어의 기능을 나타내는 개념
    - 함수 값: 이러한 기능을 활용하여 함수를 변수에 할당하거나 다른 함수와 상호 작용하는 데 사용되는 구체적인 값

추상화
- 함수를 더 높은 단계로 추상화해서 재사용할 수 있다.
- 함수를 끝까지 추상화하면 추상화된 부분을 단 한 번만 작성해서 프로그램을 더 안전하게 만들 수 있다.
    - 추상화된 부분을 완전히 테스트하기만 하면 되기 때문
